<!-- location_app/templates/base.html -->

<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Projet de Location</title>
    <style>
        /* Styles de base pour la mise en page */
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        nav a {
            margin-right: 15px;
        }
        .notification-badge {
            background-color: red;
            color: white;
            padding: 2px 6px;
            border-radius: 50%;
            font-size: 12px;
            vertical-align: top;
            margin-left: 5px;
        }
    </style>
</head>
<body>
    <nav>
        <a href="{{ url_for('main.home') }}">Accueil</a>
        <a href="{{ url_for('products.list_products') }}">Produits</a>
        {% if current_user and current_user.role == 'client' %}
            <a href="{{ url_for('rentals.list_rentals') }}">Mes Locations</a>
        {% endif %}
        <a href="{{ url_for('notifications.notifications') }}">
            Notifications
            {% if notification_count > 0 %}
                <span class="notification-badge">{{ notification_count }}</span>
            {% endif %}
        </a>
        {% if current_user %}
            <a href="{{ url_for('auth.logout') }}">DÃ©connexion</a>
        {% else %}
            <a href="{{ url_for('auth.login') }}">Connexion</a>
            <a href="{{ url_for('auth.register') }}">Inscription</a>
        {% endif %}
    </nav>
    <hr>
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            {% for category, message in messages %}
                <div class="flash {{ category }}">
                    {{ message }}
                </div>
            {% endfor %}
        {% endif %}
    {% endwith %}
    {% block content %}{% endblock %}
</body>
</html>
